#!/usr/bin/env bash
#
# Define the path to the Apache log file
LOG_FILE="apache-access.log" 

# Check if the log file exists
if [[ ! -f "$LOG_FILE" ]]; then
  echo "Log file not found: $LOG_FILE"
  exit 1
fi

# Use awk to extract IP addresses and HTTP status codes
awk '{count[$0]++} END {for (item in count) print count[item], item }' "$LOG_FILE" | sort -nr

